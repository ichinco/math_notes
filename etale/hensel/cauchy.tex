\subsection{Cauchy Sequences and Completion}

There are two main classes of examples discussed in these notes.
The first will be treated quite extensively in the rest of the
section, and forms the foundation for the rest of the material in 
this chapter. The second will be the subject of study in Appendix 
\ref{appendix:profinite}. For now, we make the following 
assumptions that will remain with us for the remainder of the 
section:

\begin{enumerate}
\item $G$ is an abelian group, and from now on, we will write
composition additively, i.e. $g + h$ instead of $gh$, $0$ instead
of $e$, etc.,

\item the system of neighborhood form a countable tower of (normal)
subgroups
\[
G = G_0 \supseteq G_1 \supseteq G_2 \supseteq \cdots \supseteq G_n 
\supseteq \cdots.
\]

\end{enumerate}

Under these assumptions, the completion has yet another more 
``analytic'' description.

\begin{defn}
Let $(x_i)$ represent a sequence of elements in $G$. We say that
$(x_i)$ is a \DEF{Cauchy sequence}{Cauchy sequence in $G$} if for
any open neighborhood $U$ of $G$, there exists $N$ sufficiently
large such that for all $j, k > N$, $x_j - x_k \in U$.

We say that $(x_i)$ \DEF{Cauchy sequence!convergence}{converges} 
to $0 \in G$ if for every neighborhood $U$ of $0$, all but 
finitely many elements $x_i$ are elements of $U$. We say that
$(x_i)$ converges to $g$ if $(x_i - g)$ converges to $0$.
Finally, we say that two Cauchy sequences $(x_i)$ and $(y_i)$ are 
\DEF{Cauchy sequence!equivalence}{equivalent} if $(x_i - y_i)$
converges to $0$. Let $\sim$ denote this relation.
\end{defn}

It is rather straightforward to work out the following results.
We give more or less complete proofs, though we encourage that the 
reader work these out, for they are quite fun.

\begin{prop}
Let $G$ be a topological group given as above.

\begin{enumerate}\label{prop:cauchy_and_compl}
\item $\sim$ is an equivalence relation.

\item the equivalence classes (which we hereby write as 
$\overline{G}$) of $G$ under $\sim$ form a complete topological 
abelian group isomorphic to $\Complete{G}$.

\item there is a canonical map from $G$ to $\overline{G}$ that is
compatible with the isomorphism in the previous bullet.

\item $G$ is complete if and only if $G$ is isomorphic to the
group defined on the set of equivalence classes under $\sim$.
\end{enumerate}
\end{prop}
\begin{proof}
\begin{enumerate}
\item These follow from the fact that each $G_i$ is a group. 
Certainly $(x_i) \sim (x_i)$ since $x_i - x_i = 0 \in G_j$ for 
every $i$ and $j$. This shows reflexivity.

Suppose $(x_i) \sim (y_i)$. In other words, fix $G_i$ and suppose 
$x_j - y_j \in G_i$ for all sufficiently large $j$. Then 
$-(x_j - y_j) = y_j - x_j \in G_i$ for (the same) sufficiently 
large $j$. This shows symmetry.

Finally, suppose $(x_i) \sim (y_i)$ and $(y_i) \sim (z_i)$.
That is, fixing $G_i$, we have $x_j - y_j \in G_i$ for $j > N$,
and $y_k - z_k \in G_i$ for $k > M$. Set $N' = \max(N, M)$,
and $x_l - y_l + y_l - z_l = x_l - z_l \in G_l$ for all $l > N'$.
This shows transitivity.

\item We first show that there is a set isomorphism that is also 
a group isomorphism from $\overline{G}$ to $\Complete{G}$. 
We proceed as follows:

\pfitem{Define the map from $\overline{G}$ to $\Complete{G}$} :
Fix a representative Cauchy sequence $(x_i) \in \overline{G}$ and 
$G_j$. Notice that the image of $x_i$ in $G/G_j$ stabilized for 
sufficiently large $i$. (This is another way of stating the 
definition of $(x_i)$ being a Cauchy sequence.) Let such an image 
be $\xi_j$. To check the coherence condition, we show that for 
$\pi: G/G_i \to G/G_j$ (by our standing assumption, $i > j$), 
$\pi(\xi_i)$ is isomorphic to $\xi_j$. Indeed, for a sufficiently 
large $N$, both $\xi_i$ and $\xi_j$ can be represented by the same 
element $x_N$. Thus, $(\xi_j)$ is an element of $\Complete{G}$.

Finally, we check that the association defined above does not 
depend on the choice of Cauchy sequence $(x_i)$. Pick another 
representative Cauchy sequence $(x'_i)$. In particular, $(x_i) 
\sim (x_i')$, so for every $G_i$ and all sufficiently large $j$, 
the image $x_j - x_j' \in G_i$. That is, the image of $x_j - x_j'$ 
is $0 \in G/G_i$. Thus $x_j$ and $x_j'$ represent the same element 
$\xi_i$ in $G/G_i$. This holds for every $i$. Hence $\theta$ does 
not depend on the choice of representative Cauchy sequence.

We have defined a map $\theta : \overline{G} \to \Complete{G}$.

\pfitem{$\theta$ is an iso} : suppose $\theta$ maps $(x_i)$ and 
$(y_i)$ to the same element in $\Complete{G}$. That is, for each
$i$ and all sufficiently large $j$, the image of $x_j - y_j$ is 
$0$ in $G/G_i$. In other words, $(x_i)$ and $(y_i)$ are equivalent
Cauchy sequences. This shows that $\theta$ is injective.

For surjectivity, let $(\xi_i)$ represent a coherent sequence in
$\Complete{G}$, and pick any representative $x_i$ of $\xi_i \in
G/G_i$. We claim that the sequence $(x_i)$ defines a Cauchy
sequence. Since $(\xi_i)$ is a coherent sequence, the image of
$\xi_i$ in $G/G_j$ for all $i \geq j$ is precisely $\xi_j$. That 
is $x_i - x_j \in G_j$ for all $i \geq j$. Hence $(x_i)$ defines
a Cauchy sequence, since for each $G_j$, fixing $N = j$ satisfies
the Cauchy sequence condition given in the definition.

It is straightforward to see that the image of $(x_i)$ under 
$\theta$ is $(\xi_i)$, since the image of each $x_i$ for all 
sufficiently large $i$ in a fixed $G_j$ are all identified, as 
shown above.

\pfitem{The group structure on $\overline{G}$ (Largely a sketch)} 
: the Cauchy sequences exhibit a natural additive structure. Set 
\[
(x_i) + (y_i) \defeq (x_i + y_i),\;\;\; \textrm{ and }\;\;\; 
   -(x_i) \defeq (-x_i).
\] 
Fixing $G_i$, then for sufficiently large $N$, $x_j - x_k \in G_i$
for all $j, k > N$. and sufficiently large $M$, $y_l - y_m \in 
G_i$. Then for $N' = \max(N, M)$, and $j, k > N'$,
\[
(x_j + y_j) - (x_k + y_k) = (x_j - x_k) + (y_j - y_k) \in G_i.
\]
Therefore, $(x_i + y_i)$ is a Cauchy sequence. For $(-x_i)$ being
a Cauchy sequence, the arguments are easier: since $G_i$ is a 
group, if $x_j \in G_i$, then so is $-x_j$.

Similarly, if $(x_i) \sim (x_i')$, then 
\[
(x_i + y_i) - (x_i' + y_i) = x_i - x_i'.
\]
and 
\[
-x_i - (-x_i') = -(x_i - x_i').
\]
Therefore, $(x_i + y_i) \sim (x_i' + y_i)$ and $(-x_i) \sim 
(-x'_i)$. It follows that these operations descend to the 
equivalence classes of Cauchy sequences.

Finally, setting $0 = (0)$ as the identity, it is straightforward
to verify that the structure as defined on $\overline{G}$ 
satisfies the properties of a group.

\pfitem{$\theta$ is a Group homomorphism} : as $\pi: G \to G/G_j$ 
is a group homomorphism, we have that $\pi(x_i + y_i) = \pi(x_i) 
+ \pi(y_i)$, $\pi(-x_i) = -\pi(x_i)$ and $\pi(0) = 0$ for all $i$. 
Then for $(x_i)$ and $(y_i)$ Cauchy sequences which define $\xi_j$
and $\upsilon_j$ respectively in $G/G_j$, $(x_i + y_i)$ defines 
$\xi_j + \upsilon_j$ and $(-x_i)$ defines $-\xi_i$ as elements of
$G/G_j$. 

Since this holds for all $j$, $\theta$ is additive. Finally, it
is clear that $\theta(0) = 0$. Therefore, $\theta$ is a group
homomorphism.

To wrap up, we show that $\overline{G}$ is equipped with a system
of neighborhoods given by $\overline{G}_i$

\item As there is canonical map $G \to \Complete{G}$, there is
also a map $G \to \overline{G}$, given by $g \mapsto (g)$, where
$(g)$ denotes the constant sequence. It is straightforward (in
fact downright easy) to verify from definition that $(g)$ is 
Cauchy. It is also clear that this map is actually a morphism of
topological groups

\end{enumerate}
\end{proof}
