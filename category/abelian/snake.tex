\section{Abelian Categories}

\begin{prop}[Snake Head/Tail]
Let $A, B, C, A', B', C'$ be objects of an abelian category 
$\Cat{A}$ which fit into the following diagram:
\[
\begin{tikzcd}
A \arrow{r}{f} \arrow{d}{\alpha} &
B \arrow{r}{g} \arrow{d}{\beta} &
C \arrow{r} \arrow{d}{\gamma} &
0 \\
A' \arrow{r}{f'} &
B' \arrow{r}{g'} &
C' \arrow{r} &
0
\end{tikzcd}
\]
such that the rows are exact. Then, the snake tail:
\[
\cok \alpha \to \cok \beta \to \cok \gamma \to 0
\] 
is exact.

Dually, if
\[
\begin{tikzcd}
0 \arrow{r}&
A \arrow{r}{f} \arrow{d}{\alpha} &
B \arrow{r}{g} \arrow{d}{\beta} &
C \arrow{d}{\gamma} \\
0 \arrow{r}&
A' \arrow{r}{f'} &
B' \arrow{r}{g'} &
C' 
\end{tikzcd}
\]
is commutative, where the rows are exact, then the snake
head
\[
0 \to \ker \alpha \to \ker \beta \to \ker \gamma
\]
is exact.
\end{prop}

\begin{proof}
We prove the statement for the snake tail.

Let $A'' = \cok \alpha, B'' = \cok \beta,$ and $C'' = \cok 
\gamma$; let $\alpha': A' \to A'', \beta': B' \to B'',$ and
$\gamma': C' \to C''$ be the canonical projections. 

By the universal property of cokernels, there exists unique
maps
\[
A'' \stackrel{f''}{\to} B'' \stackrel{g''}{\to} C''.
\]
We proceed as follows:

\pfitem{$g''$ is surjective}: There are two ways of doing this.
We proceed the elementary way first, and then continue with
a categorical argument. These steps are rather straight-forward, 
and it might be worthwhile to work out the details for yourself 
before reading ahead.

Fix $c'' \in C''$. Then $c'' = \gamma'(c')$ for some $c' \in \C'$
since $\gamma'$ is surjective. However, $B'$ maps onto $C'$ via
$g'$ and therefore, there exists some $b' \in B'$ such that $g'(b')
= c'$.

That is, $\gamma'g'(b) = c''$. But $\gamma'g' = g''\beta'$. In
$g''(b)$ maps to $c''$ via $g''$.

\pfitem{$g''$ is surjective (categorical)} : We show that $C''$
is isomorphic to the push-out of
\[
\begin{tikzcd}
B' \arrow{r}{g'} \arrow{d}{\beta'} &C' \\
B''.
\end{tikzcd}
\]

Fix $D \in \Cat{A}$ and suppose that there exists maps $\delta: 
C' \to D$ and $h: B'' \to D$ such that $\delta g' = h\beta'$.
Consider the map $B \to D$ given by $\delta \gamma g$. This is
$0$ since
\begin{align*}
\delta \gamma g &= \delta g' \beta \\
                &= h \beta' \beta \\
                &= 0.
\end{align*}
But $g$ is an epi, and thus, $h \gamma = 0$. Since $C' \to C''$
is the cokernel of $\gamma$, it follows that there exists an 
unique map $\pi: C'' \to D$ such that $\pi \gamma' = \delta.$

To show that $\pi g'' = h$, observe that
\begin{align*}
h \beta' &= \delta g' \\
         &= \pi \gamma' g' \\
         &= \pi g'' \beta'.
\end{align*}
But $\beta'$ is an epi, which must imply that $\pi g'' = h$ as
desired.

To complete this step, notice that the push-out of a surjection
is a surjection (Prop. \ref{prop:pushout_epi}).

\pfitem{Sequence is exact at $B''$}: Once again, we show this
using elements firsts, before proving the statement on a 
categorical level. 

Fix $b'' \in B''$ s.t. $g''(b'') = 0$. Since $\beta'$ is 
surjective, there exists some $b' \in B'$ such that $b'' = 
\beta'(b')$. However, $g''\beta' = \gamma' g'$, and 
therefore, $g'(b') \in \ker \gamma'$. By the exactness of
the sequence
\[
C \stackrel{\gamma}{\to} C' \stackrel{\gamma'}{\to} C'' \to 0
\]
there exists some $c \in C$ such that $\gamma(c) = g'(b')$.
Since $g$ is surjective, $c$ is in turn the image of some $b
\in B$. Thus, $\gamma g(b) = g'(b')$. But $\gamma g = g' \beta$.
Then $b' - \beta(b)$ must vanish under $g'$. Therefore, by the 
exactness of 
\[
A' \stackrel{f'}{\to} B' \stackrel{g'}{\to} C' \to 0
\]
there exists some $a' \in A'$ such that $f'(a') = b' - \beta(b)$.
We claim that $\alpha'(a')$ maps to $b''$. Indeed,
\begin{align*}
f'' \alpha'(a') &= \beta' f'(a') \\
                &= \beta'(b' - \beta(b)) \\
                &= \beta'(b') - 0
                &= b'',
\end{align*}
and this step is established (elementarily).

\pfitem{Sequence is exact at $B''$ (categorical)}:
\end{proof}
